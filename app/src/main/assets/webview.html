<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    .todo_list {
        margin-left: 0;
    }

    .todo_list_item {
        width: 100%;
        height: 36px;
        line-height: 36px;
        border-bottom: 1px solid #ccc;
    }

    .name {
        float: left;
    }

    .delete {
        color: red;
        float: right;
        margin-left: 50px;
    }

    .oricle_wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #oricle {
        width: 100%;
        height: 240px;
    }
</style>

<body>
    <div class="oricle_wrapper">
        <div id="oricle"></div>
    </div>
    <script src="./jquery.min.js"></script>
    <script src="./echarts.min.js"></script>
    <script>
        function runJs(isContinue, data) {
            if (isContinue) {
                renderChart(data)
            }
        }

        function renderChart(data) {
            data = JSON.parse(data);
            var option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    show: 'false',
                    left: 50,
                    data: []
                },
                series: [{
                        name: '系统',
                        type: 'pie',
                        selectedMode: 'single',
                        radius: [0, '30%'],
                        label: {
                            position: 'inner'
                        },
                        labelLine: {
                            show: false
                        },
                        data: []
                    },
                    {
                        name: '油田',
                        type: 'pie',
                        radius: ['38%', '55%'],
                        label: {
                            position: 'inner'
                        },
                        data: []
                    },
                    {
                        name: '平台',
                        type: 'pie',
                        radius: ['60%', '75%'],
                        label: {
                            position: 'inside'
                        },
                        data: []
                    },
                    {
                        name: '公司',
                        type: 'pie',
                        radius: ['80%', '95%'],
                        label: {

                        },
                        data: []
                    }
                ]
            }
            var pie = echarts.init(document.getElementById("oricle"));
            if (data.length == 1) {
                option.series[3].data = data[0].data;
            } else if (data.length == 2) {
                option.series[3].data = data[0].data;
                option.series[2].data = data[1].data;
            }
            pie.setOption(option);
            pie.on('click', function (a) {
                 if(a.data.type=="company"){
                      window.injectedObject.startFunction(a.name)
                 }else if{
                     alert("将要加载平台数据")
                 }
            })
            pie.resize();
        }
    </script>
</body>
</html>